(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a358d48"],{"169d":function(e,t,a){"use strict";a("85d7")},"6ca0":function(e,t,a){},"85d7":function(e,t,a){},"9cbf":function(e,t,a){},ea2c:function(e,t,a){"use strict";a("9cbf")},ef67:function(e,t,a){"use strict";a("6ca0")},fdc7:function(e,t,a){"use strict";a.r(t);a("b64b");var n=a("7a23"),r=Object(n["withScopeId"])("data-v-23b5ba52");Object(n["pushScopeId"])("data-v-23b5ba52");var s={class:"container"},c={class:"w1210"},o={class:"bd"},i={class:"aside-wrap"},l={key:0},d={key:0,class:"tweets"};Object(n["popScopeId"])();var u=r((function(e,t,a,r,u,h){var f=Object(n["resolveComponent"])("twitter");return Object(n["openBlock"])(),Object(n["createBlock"])("div",s,[Object(n["createVNode"])("div",c,[Object(n["createVNode"])("div",o,[Object(n["createVNode"])("div",i,[r.usersList&&r.usersList.length>0?(Object(n["openBlock"])(),Object(n["createBlock"])("div",l,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(r.usersList,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t,onClick:function(e){return r.changeUser(t)}},[Object(n["createVNode"])("a",{class:e.Username===r.currentUser?"current":"normal"},Object(n["toDisplayString"])(e.Name),3)],8,["onClick"])})),128))])):Object(n["createCommentVNode"])("",!0)]),r.usersList&&r.usersList.length>0&&r.usersData&&Object.keys(r.usersData).length===r.usersList.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",d,[r.currentUser===r.usersList[0].Username?(Object(n["openBlock"])(),Object(n["createBlock"])(f,{key:0,class:"detail",isAll:!0,detail:r.usersData[r.currentUser],usersObj:r.usersListObj},null,8,["detail","usersObj"])):(Object(n["openBlock"])(),Object(n["createBlock"])(f,{key:1,class:"detail",detail:r.usersData[r.currentUser]},null,8,["detail"]))])):Object(n["createCommentVNode"])("",!0)])])])})),h=a("f3f3"),f=(a("0d03"),a("d3b7"),a("380f"),a("f64c")),m=a("bc3a"),b=a.n(m),g=b.a.create({baseURL:"",withCredentials:!0,timeout:6e4});g.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),g.interceptors.response.use((function(e){var t=e.data;if(null!==t.err&&void 0!==t.err){var a=t.err.message?t.err.message:t.err.code;return"ER_DUP_ENTRY"===a?a="数据库已有重复条目":"ER_PARSE_ERROR"===a?a="参数有误":"ER_CRM_SUPPLIER_TYPE_ERR"===a?a="供应商传输数据类型有误":"ER_CRM_RETAIL_TYPE_ERR"===a?a="零售店传输数据类型有误":"ER_BEIKE_IN_RANGE_NEED_CONFIRM"===a?a="已有此周期数据":"ER_BEIKE_IN_RANGE_PERIOD_ERROR"===a?a="周期选择有误":"ER_BEIKE_OUT_RANGE_PERIOD_ERROR"===a?a="周期选择超出范围":"ER_BEIKE_SAME_EXCEL"===a?a="该Excel已存在":"ER_BEIKE_PERIOD_SOME_DAY_LOST"===a&&(a="所选计算周期有日期遗漏"),f["a"].error({content:a||"Error",duration:5}),Promise.reject(t.err||"Error")}return t}),(function(e){if(console.log("err"+e),e.response){var t=e.response.data;t.err&&(e.message=t.err.message?t.err.message:t.err.code,console.log("error message "+e.message)),401===e.response.status?"ER_AUTH_USER_OR_PWD_ERR"===e.message?e.message="用户名或密码错误！":"jwt expired"===e.message?e.message="认证过期，请重新登录！":e.message="权限认证有误，请重新登录！":"ER_API_PATH_NOT_MATCH"===e.message?e.message="API路径有误，请确认！":"ER_REGISTER_USER_NAME_EXIST"===e.message?e.message="账号已存在，请重新输入！":"ER_DOMAIN_NOT_PERMIT"===e.message?e.message="该域名尚无权限，请联系管理员！":"ER_QUALITY_CODE_ERR"===e.message?e.message="追溯码有误，请确认追溯码及产品信息！":"ER_QUALITY_VER_ERR"===e.message?e.message="验证码有误，非认证产品，请谨慎！":"ER_USER_EXIST"===e.message?e.message="该用户为其他公司管理员，不可添加！":"ER_CART_TRADE_PARAM_ERROR"===e.message?e.message="结算参数有误，请返回购物车重新选购":"ER_GOODS_NOT_FOUND"===e.message?e.message="无此商品信息":"ER_BEIKE_EXCEL_FORMAT_ERROR"===e.message?e.message="上传Excel文件格式有误":"ER_BEIKE_EXCEL_DATE_ERROR"===e.message?e.message="上传Excel文件数据日期与所选日期不符":"ER_BEIKE_EXCEL_NO_DATA"===e.message?e.message="上传Excel文件无数据":"ER_BEIKE_EXCEL_SANFANG_DATE_ERROR"===e.message&&(e.message="上传Excel文件自营数据日期与三方日期不符")}return f["a"].error({content:e.message,duration:5}),Promise.reject(e)}));var O=g,p="",j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){return O({method:"post",url:p+e,data:t}).then((function(e){a(e)}))["catch"]((function(e){n(e)}))}))},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){O({method:"post",url:p+e,data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){a(e)}))["catch"]((function(e){n(e)}))}))},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){O({method:"patch",url:p+e,data:t}).then((function(e){a(e)}))["catch"]((function(e){n(e)}))}))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){O({method:"delete",url:p+e,data:t}).then((function(e){a(e)}))["catch"]((function(e){n(e)}))}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(a,n){O({method:"get",url:p+e,params:t}).then((function(e){a(e)}))["catch"]((function(e){n(e)}))}))},R={getRequest:w,postRequest:j,deleteRequest:E,patchRequest:v,uploadFileRequest:_},k=a("9bec"),N=k["a"].defaults({baseUrl:"http://resource.niangao.wang"}),y=new N,B=y,I="./twitter";function P(){var e="/json/userList.json";return e+="?v="+(new Date).getTime(),new Promise((function(t,a){B.request("GET /twitter"+e).then((function(e){var a=e.data;t(a)}))["catch"]((function(t){return R.getRequest(I+e)}))}))}function T(e,t){var a="/json/"+e+"/"+t+".json";return a+="?v="+(new Date).getTime(),new Promise((function(e,t){B.request("GET /twitter"+a).then((function(t){var a=t.data;e(a)}))["catch"]((function(e){return R.getRequest(I+a)}))}))}var C={getUsersData:P,getTweetsData:T},S=Object(n["withScopeId"])("data-v-30707039");Object(n["pushScopeId"])("data-v-30707039");var x={class:"twitter"},D={key:0,class:"header"},A={style:{"font-size":"15px","font-weight":"800",border:"0 solid black","margin-right":"20px"}},U={style:{"font-weight":"700",color:"rgb(15, 20, 25)"}},V=Object(n["createVNode"])("span",{style:{color:"rgb(91, 112, 131)","margin-right":"20px"}}," 推文",-1),L={style:{color:"rgb(91, 112, 131)"}},M={key:1,class:"header"},H=Object(n["createVNode"])("span",{style:{"font-size":"15px","font-weight":"800",border:"0 solid black","margin-right":"20px"}},"推文",-1),F={key:0,style:{color:"rgb(91, 112, 131)"}},q={key:0,class:"content"},z={key:0,class:"profile"},G={class:"name"},K={style:{"font-size":"19px","font-weight":"800",border:"0 solid black"}},W={style:{color:"rgb(91, 112, 131)","font-size":"15px","font-weight":"400",border:"0 solid black"}},X={class:"biography"},Y={class:"follow"},Q={style:{"font-weight":"700",color:"rgb(15, 20, 25)"}},$=Object(n["createVNode"])("span",{style:{color:"rgb(91, 112, 131)","margin-right":"20px"}}," 正在关注",-1),J={style:{"font-weight":"700",color:"rgb(15, 20, 25)"}},Z=Object(n["createVNode"])("span",{style:{color:"rgb(91, 112, 131)","margin-right":"20px"}}," 关注者",-1),ee=Object(n["createVNode"])("div",{class:"link-top"},null,-1),te={class:"tweets"};Object(n["popScopeId"])();var ae=S((function(e,t,a,r,s,c){var o=Object(n["resolveComponent"])("fixed-header"),i=Object(n["resolveComponent"])("card");return Object(n["openBlock"])(),Object(n["createBlock"])("div",x,[Object(n["createVNode"])(o,{"id-name":a.idName},{default:S((function(){return[Object.keys(a.detail).length>0&&!a.isAll?(Object(n["openBlock"])(),Object(n["createBlock"])("div",D,[Object(n["createVNode"])("span",A,Object(n["toDisplayString"])(a.detail.Profile.Name),1),Object(n["createVNode"])("span",U,Object(n["toDisplayString"])(a.detail.TweetsCount),1),V,Object(n["createVNode"])("span",L,Object(n["toDisplayString"])("更新时间: "+c.getTime(a.detail.LastUpdateTime)),1)])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",M,[H,Object.keys(a.detail).length>0&&a.isAll?(Object(n["openBlock"])(),Object(n["createBlock"])("span",F,Object(n["toDisplayString"])("更新时间: "+c.getTime(a.detail.LastUpdateTime)),1)):Object(n["createCommentVNode"])("",!0)]))]})),_:1},8,["id-name"]),Object.keys(a.detail).length>0?(Object(n["openBlock"])(),Object(n["createBlock"])("div",q,[a.isAll?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",z,[Object(n["createVNode"])("div",G,[Object(n["createVNode"])("div",K,Object(n["toDisplayString"])(a.detail.Profile.Name),1),Object(n["createVNode"])("div",W,Object(n["toDisplayString"])("@"+a.detail.Profile.Username),1)]),Object(n["createVNode"])("div",X,Object(n["toDisplayString"])(a.detail.Profile.Biography),1),Object(n["createVNode"])("div",Y,[Object(n["createVNode"])("span",Q,Object(n["toDisplayString"])(a.detail.Profile.FollowingCount),1),$,Object(n["createVNode"])("span",J,Object(n["toDisplayString"])(a.detail.Profile.FollowersCount),1),Z]),ee])),Object(n["createVNode"])("div",te,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.detail.Tweets,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t},[a.isAll&&a.usersObj?(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:0,tweet:c.margeDetail(e,{Avatar:a.usersObj[e.Username].Avatar,Name:a.usersObj[e.Username].Name})},null,8,["tweet"])):(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:1,tweet:c.margeDetail(e,a.detail.Profile)},null,8,["tweet"]))])})),128))])])):Object(n["createCommentVNode"])("",!0)])}));a("c7cd");function ne(e,t,a,r,s,c){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{id:c.id_name},[Object(n["createVNode"])("div",{class:!a.childClassName&&s.fixed?a.styleClassName:"",style:a.widthSelf&&!a.childClassName&&s.fixed?{width:s.fixed_element_width+"px"}:""},[Object(n["renderSlot"])(e.$slots,"default")],6)],8,["id"])}a("a15b"),a("a434"),a("ac1f"),a("1276");var re=a("2ef0"),se=a.n(re),ce={name:"FixedHeader",props:{idName:{type:String,default:"element"},styleClassName:{type:String,default:"fixed-header"},childClassName:{type:String,default:null},widthSelf:{type:Boolean,default:!1}},data:function(){return{id_name_pre:"fixed-",fixed:!1,fixed_element:null,fixed_element_width:0}},computed:{offset_top:function(){return this.getElementToPageTop(this.fixed_element)},id_name:function(){return this.id_name_pre+this.idName}},watch:{fixed:function(e){this.childClassName&&this.fixed_element&&(e?this.addFixedClass(this.fixed_element,this.styleClassName):this.removeFixedClass(this.fixed_element,this.styleClassName)),this.$emit("change",e)}},mounted:function(){window.addEventListener("scroll",se.a.throttle(this.handleScroll,50));var e=document.querySelector("#"+this.id_name);if(this.childClassName){var t=e.querySelector("."+this.childClassName);t?this.fixed_element=t:(console.log("class name of child node not exist, please check it"),this.fixed_element=e)}else this.fixed_element=e;this.widthSelf&&(this.fixed_element_width=this.fixed_element.offsetWidth,window.addEventListener("resize",se.a.throttle(this.resizeHandler,50)))},unmounted:function(){window.removeEventListener("scroll",this.handleScroll),this.widthSelf&&window.removeEventListener("resize",this.resizeHandler)},methods:{resizeHandler:function(){this.fixed_element_width=this.fixed_element.offsetWidth},getElementToPageTop:function(e){var t=0;while(e!==window.document.body&&e)t+=e.offsetTop,e=e.offsetParent;return t},addFixedClass:function(e,t){var a=e.className.split(" "),n=this.arrIndexOf(a,t);-1===n&&(e.className+=" "+t)},removeFixedClass:function(e,t){if(""!==e.className){var a=e.className.split(" "),n=this.arrIndexOf(a,t);-1!==n&&(a.splice(n,1),e.className=a.join(" "))}},arrIndexOf:function(e,t){for(var a=0;a<e.length;a++)if(e[a]===t)return a;return-1},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.fixed=e>this.offset_top}}};ce.render=ne;var oe=ce,ie=(a("4160"),a("a630"),a("c975"),a("277d"),a("baa5"),a("d81d"),a("fb6a"),a("6eba"),a("e25e"),a("4d63"),a("25f0"),a("6062"),a("3ca3"),a("466d"),a("5319"),a("159b"),a("ddb0"),a("4795"),a("54f8")),le=a("0122");function de(e,t){if(0===arguments.length)return null;var a,n=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(le["a"])(e)?a=e:("string"===typeof e&&/^[0-9]+$/.test(e)&&(e=parseInt(e)),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var r={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},s=n.replace(/{(y|m|d|h|i|s|a)+}/g,(function(e,t){var a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}));return s}function ue(e,t){e=10===(""+e).length?1e3*parseInt(e):+e;var a=new Date(e),n=Date.now(),r=(n-a)/1e3;return r<30?"刚刚":r<3600?Math.floor(r/60)+"分钟前":r<86400?Math.floor(r/3600)+"小时前":r<172800?"1天前":t?de(e,t):a.getMonth()+1+"月"+a.getDate()+"日"+a.getHours()+"时"+a.getMinutes()+"分"}function he(e,t){var a,n={},r=Object(ie["a"])(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;n[s[t].toString()]=s}}catch(c){r.e(c)}finally{r.f()}return n}var fe=Object(n["withScopeId"])("data-v-2a3de60e");Object(n["pushScopeId"])("data-v-2a3de60e");var me={class:"head"},be={class:"detail"},ge={id:"name"},Oe={style:{"font-weight":"700",border:"0 solid black","margin-right":"10px"}},pe={key:0},je={style:{"font-weight":"400",color:"rgb(91, 112, 131)"}},_e={class:"text"},ve={key:0,class:"image"};Object(n["popScopeId"])();var Ee=fe((function(e,t,a,r,s,c){var o=Object(n["resolveComponent"])("a-avatar");return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:["card",r.mouseEnter?"enter":""],onMouseenter:t[1]||(t[1]=function(){return r.handleMouseEnter&&r.handleMouseEnter.apply(r,arguments)}),onMouseleave:t[2]||(t[2]=function(){return r.handleMouseLeave&&r.handleMouseLeave.apply(r,arguments)})},[Object(n["createVNode"])("div",me,[Object(n["createVNode"])(o,{class:"avatar",size:50,src:a.tweet.Avatar},null,8,["src"]),Object(n["createVNode"])("div",be,[Object(n["createVNode"])("div",ge,[Object(n["createVNode"])("span",Oe,Object(n["toDisplayString"])(a.tweet.Name),1),a.tweet.IsRetweet?(Object(n["openBlock"])(),Object(n["createBlock"])("span",pe,"转推 ")):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("span",je,Object(n["toDisplayString"])("@"+a.tweet.Username+" · "+r.getTime(a.tweet.Timestamp)),1)]),Object(n["createVNode"])("div",_e,[Object(n["createVNode"])("span",{innerHTML:a.tweet.HTML},null,8,["innerHTML"])]),a.tweet.Photos&&a.tweet.Photos.length>0?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ve,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.tweet.Photos,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("a",{key:t,class:r.checkImgRadiusClass(t,a.tweet.Photos.length)},[r.imgHeight?(Object(n["openBlock"])(),Object(n["createBlock"])("img",{key:0,src:e,width:r.checkImgWidth(t,a.tweet.Photos.length),height:r.imgHeight,class:r.checkImgClass(t,a.tweet.Photos.length)},null,10,["src","width","height"])):(Object(n["openBlock"])(),Object(n["createBlock"])("img",{key:1,ref:0===t&&a.tweet.Photos.length>1?"firstImg":"otherImg",src:e,width:r.checkImgWidth(t,a.tweet.Photos.length),class:r.checkImgClass(t,a.tweet.Photos.length),onload:r.imgOnload},null,10,["src","width","onload"]))],2)})),128))])):Object(n["createCommentVNode"])("",!0)])])],34)})),we={name:"Card",props:{tweet:{type:Object,default:function(){return{}}}},setup:function(e){var t=Object(n["ref"])(!1),a=Object(n["ref"])(0),r=Object(n["ref"])(null),s=function(e){return ue(e,null)},c=function(e,t){e++;var a=[];return 1===t?(a.push("lt-radius"),a.push("rt-radius"),a.push("lb-radius"),a.push("rb-radius")):(1===e&&a.push("lt-radius"),2===e&&a.push("rt-radius"),t%2?e===t&&(a.push("lb-radius"),a.push("rb-radius")):(e===t-1&&a.push("lb-radius"),e===t&&a.push("rb-radius"))),a},o=function(e,t){var a=[];return t>1&&(a.push("fit-contain"),0===e&&a.push("first-img")),e++,e%2&&a.push("mg-right"),t>2&&a.push("mg-bottom"),a},i=function(e,t){return t%2&&e===t-1?500:(500-(t>1?2:0))/(t>2?2:t)},l=function(){var e=r.value;e&&e.width&&e.naturalHeight&&e.naturalWidth&&(a.value=e.naturalHeight*e.width/e.naturalWidth)},d=function(){t.value=!0},u=function(){t.value=!1};return Object(n["onMounted"])((function(){})),Object(n["watch"])((function(){return e.tweet}),(function(){a.value=0})),{getTime:s,mouseEnter:t,checkImgRadiusClass:c,checkImgClass:o,handleMouseEnter:d,handleMouseLeave:u,checkImgWidth:i,imgOnload:l,imgHeight:a,firstImg:r}}};a("169d");we.render=Ee,we.__scopeId="data-v-2a3de60e";var Re=we,ke={name:"Twitter",components:{Card:Re,FixedHeader:oe},props:{idName:{type:String,default:"twitter"},detail:{type:Object,default:function(){return{}}},isAll:{type:Boolean,default:!1},usersObj:{type:Object,default:function(){return{}}}},methods:{margeDetail:function(e,t){return Object(h["a"])({Avatar:t.Avatar,Name:t.Name},e)},getTime:function(e){return de(e)}}};a("ef67");ke.render=ae,ke.__scopeId="data-v-30707039";var Ne=ke,ye={components:{Twitter:Ne},setup:function(){var e=Object(n["getCurrentInstance"])(),t=e.ctx,a=Object(n["ref"])([]),r=Object(n["ref"])({}),s=Object(n["ref"])({}),c=Object(n["ref"])(""),o=Object(n["ref"])(1),i=function(){t.$router.push({path:"/login"})},l=function(){B.request("POST /repos/LarchLiu/gh-twitter/dispatches",{event_type:"scraper"}),console.log(Object({VUE_APP_PIC_BED:"qiniu",VUE_APP_QINIU_RESOURCE_PREFIX:"twitter",VUE_APP_QINIU_DOMAIN:"http://resource.niangao.wang",NODE_ENV:"production",VUE_APP_PUBLIC_PATH:"/gh-twitter",VUE_APP_GLOB_API_URL:"",BASE_URL:"/gh-twitter/"}).VUE_APP_GITHUB_TOKEN)},d=function(){C.getUsersData().then((function(e){a.value=e,s.value=he(e,"Username"),c.value=e[0].Username}))["catch"]((function(e){console.log(e),a.value=[]}))},u=function(e,t){C.getTweetsData(e,t).then((function(t){r.value[e]=t}))["catch"]((function(e){console.log(e)}))},f=function(e){c.value=a.value[e].Username,o.value=1},m=function(e,t){return Object(h["a"])({Avatar:t.Avatar,Name:t.Name},e)};return Object(n["onMounted"])((function(){d()})),Object(n["watch"])(a,(function(){r.value={};for(var e=0;e<a.value.length;e++)u(a.value[e].Username,o.value)})),{currentUser:c,curPage:o,usersList:a,usersData:r,getUserTweets:u,getUserList:d,changeUser:f,onExit:i,webhook:l,margeDetail:m,usersListObj:s}}};a("ea2c");ye.render=u,ye.__scopeId="data-v-23b5ba52";t["default"]=ye}}]);